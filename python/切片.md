#python 切片
### 切片示意说明
![切片示意](https://upload-images.jianshu.io/upload_images/14029140-3da45bbfe1029df4.jpg?imageMogr2/auto-orient/strip|imageView2/2/w/464)

### 切片语法
object[start_index:end_index:step]

#### start_index
* 起始索引
* 包含起始索引
* 该参数省略时，表示从对象“端点”开始取值，至于是从“起点”还是从“终点”开始，则由step参数的正负决定，step为正从“起点”开始，为负从“终点”开始。

#### end_index
* 结束索引
* 不包含结束索引
* 该参数省略时，表示一直取到数据“端点”，至于是到“起点”还是到“终点”，同样由step参数的正负决定，step为正时直到“终点”，为负时直到“起点”。

#### step
* 步长
* 可正，可负
* 正表示从start_index 开始 负表示从end_index开始


### 基本操作
#### 初始元素
a=[0,1,2,3,4,5,6,7,8,9]

#### 切取单个元素
* a[0]
* a[-4]
#### 切取完整对象
* a[:]
* a[::]
* a[::-1] 反向切取

#### start_index 和end_index 都为正
* a[1:6]
* a[1:6:-1] 结果为空，因为step为-1表示反向切取，而start_index 为1，反向切取，不可能到达6
* a[6:2] 结果为空，因为step 省略默认为1，start_index 大于 end_index,不可能切取到值
* a[:6]
* a[:6:-1] step 为-1，start_index省略，此时start_index 默认为-1，表达式含义是从末尾开始反向截取到6位置，但是不包含6，因此结果是[9,8,7]
* a[6:]
* a[6::-1] end_index 为空，此时默认为起点，且包含起点，所以表达式的含义是从6开始反向截取到0

#### start_index 和 end_index 都是负值的情况
* a[-1:-6] 结果为空
* a[:-1:-6:-1] 从-1 开始反向截取到-6，且不包含-6 因此结果是[9,8,7,6,5]
* a[-6:-1] 
* a[:-6] 结果：[0,1,2,3]
* a[-6::-1] 表示从-6位置反向截取到起点，且包含起点，结果为：[4,3,2,1,0]

#### start_index 和end_index 正负混合到情况
* a[1:-6] 结果 [1,2,3]
* a[1:-6:-1] 结果为空
* a[-1:6] 结果为空
* a[-1:6:-1] 结果 [9,8,7]

#### 多层切片
* a[:8][2:5][-1:] 依次从左向右计算，后面的切片依赖前面的结果为[4]
#### 切片操作的三个参数可以用表达式
* a[2+1:3*2:7%3]

#### 切片不仅仅针对list 还可以用于元组，字符串等
* (0,1,2,3,4,5)[:3]
* 'ABCDEFG'[::2]
* for i in range(1,100)[2::3][-5:]:
  print(i)


###常用切片操作
####取偶数位置
a[::2]

####取奇数位置
a[1::2]
#### 拷贝整个对象
b=a[:]

#### 在某个位置插入元素
* a[3:3]=['A','B','C']
结果：[0,1,2,'A','B','C',3,4,5,6,7,8,9]

#### 替换一部分元素
* a[3:6]=['A','B']
结果：[0,1,2,'A','B',6,7,8,9]

### 总结
1. start_index、end_index、step三者可同为正、同为负，或正负混合。但必须遵循一个原则，即：当start_index表示的实际位置在end_index的左边时，从左往右取值，此时step必须是正数（同样表示从左往右）；当start_index表示的实际位置在end_index的右边时，表示从右往左取值，此时step必须是负数（同样表示从右往左），即两者的取值顺序必须相同。
2. 当start_index或end_index省略时，取值的起始索引和终止索引由step的正负来决定，这种情况不会有取值方向矛盾（即不会返回空列表[]），但正和负取到的结果顺序是相反的，因为一个向左一个向右。
3. step的正负是必须要考虑的，尤其是当step省略时。比如a[-1:]，很容易就误认为是从“终点”开始一直取到“起点”，即a[-1:]= [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]，但实际上a[-1:]=[9]（注意不是9），原因在于step省略时step=1表示从左往右取值，而起始索引start_index=-1本身就是对象的最右边元素了，再往右已经没数据了，因此结果只含有9一个元素。
4. 需要注意：“取单个元素（不带“:”）”时，返回的是对象的某个元素，其类型由元素本身的类型决定，而与母对象无关，如上面的a[0]=0、a[-4]=6，元素0和6都是“数值型”，而母对象a却是“list”型；“取连续切片（带“:”）”时，返回结果的类型与母对象相同，哪怕切取的连续切片只包含一个元素，如上面的a[-1:]=[9]，返回的是一个只包含元素“9”的list，而非数值型“9”。